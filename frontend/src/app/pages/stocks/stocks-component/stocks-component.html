<div class="stocks">
    <div class="stocks__list-container">
        <app-actions (edit)="openEditModal(selectedItem)" (view)="openViewModal(selectedItem)" [selectedItem]="selectedItem">

        </app-actions>
       
        @if(stocksItems$ | async; as stocksItems){
        <div class="stocks__list">
            @if(isModalOpen) {
            <app-view (back)="closeEditModal(selectedItem)" [data]="[dataitemObjOfArray]"></app-view>
            }
            <ul class="stocks__list-wrapper">   
                <li class="stocks__header">
                    @for(title of headerTitles; track $index) {
                    <span class="stocks__header-cel">{{title}}</span>
                }
                </li>
                @for(item of stocksItems; track $index) {
                <li (click)="getItemCell(item.id, stocksItems)" [ngClass]="{'selected': selectedItem == item.id}" class="stocks__items" >
                    <span class="stocks__cell">{{item.name}}</span>
                    <span class="stocks__cell">{{item.description}}</span>
                    <span class="stocks__cell">{{item.code}}</span>
                    <span class="stocks__cell">{{item.quantity}}</span>
                    <span class="stocks__cell">${{item.price}}</span>
                    <span class="stocks__cell">{{item.createdAt | date: 'dd/MM/yyyy hh:mm:ss'}}</span>
                    <span class="stocks__cell">{{item.updatedAt | date: 'dd/MM/yyyy hh:mm:ss'}}</span>
                </li>
                }
            </ul>
        </div>
        }
    </div>
</div>